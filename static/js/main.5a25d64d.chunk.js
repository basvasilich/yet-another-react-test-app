(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,a,t){e.exports=t(61)},31:function(e,a,t){},38:function(e,a,t){},55:function(e,a,t){},59:function(e,a,t){},61:function(e,a,t){"use strict";t.r(a);var o,c,n=t(1),r=t.n(n),l=t(15),s=t.n(l),d=(t(31),t(2)),m=t(3),i=t(5),u=t(4),b=t(6),y=t(16),g=t(0),E=t.n(g),h=t(9),f=function(e,a,t){var o=E.a.get(t,"base"),c=E.a.get(t,["items",e,"rate"]),n=E.a.get(t,["items",a,"rate"]),r=E.a.get(t,["items",a,"rate"]);return c&&n&&o&&!E.a.isEmpty(t)?e===o?r:1/c*n:0},p={};p.ExchangeRate=(c=o=function(e){function a(){return Object(d.a)(this,a),Object(i.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(b.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this.props,a=e.fromSymbol,t=e.fromValue,o=e.toSymbol,c=e.toValue,n=e.hidden,l=e.round,s=void 0===l?2:l;return n?null:r.a.createElement("div",{className:"ExchangeRate"},r.a.createElement("span",{className:"".concat("ExchangeRate","-from-symbol")},a),r.a.createElement("span",{className:"".concat("ExchangeRate","-from-value")},t)," = ",r.a.createElement("span",{className:"".concat("ExchangeRate","-to-symbol")},o),r.a.createElement("span",{className:"".concat("ExchangeRate","-to-value")},E.a.round(c,s)))}}]),a}(n.PureComponent),o.displayName="ExchangeRate",c);p.ExchangeRate;var v,N,C=Object(h.b)(function(e,a){var t=a.fromCode,o=a.toCode,c=E.a.get(e,"currency"),n=E.a.get(c,"ratesLoaded");return{hidden:!o||!t||o===t||!n,fromSymbol:E.a.get(c,["items",t,"symbol"]),toSymbol:E.a.get(c,["items",o,"symbol"]),fromValue:1,toValue:f(t,o,c)}})(p.ExchangeRate),R=(t(38),{});R.ExchangeField=(N=v=function(e){function a(){return Object(d.a)(this,a),Object(i.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(b.a)(a,e),Object(m.a)(a,[{key:"shouldComponentUpdate",value:function(e){var a=this;return E.a.chain(e).omit(["handleChange","style"]).some(function(e,t){return a.props[t]!==e}).valueOf()}},{key:"render",value:function(){var e=this.props,a=e.currencySymbol,t=e.currencyCode,o=e.balanceTemplate,c=e.balance,n=e.rateCode,l=e.handleChange,s=e.type,d=e.isActive,m=e.value,i=E.a.template(o),u="from"===s?"-":"+",b="from"===s?1:2,y=""!==m&&"from"===s&&E.a.toNumber(m)>c;return r.a.createElement("div",{className:"".concat("ExchangeField"," ").concat(y?"is-invalid":"")},r.a.createElement("div",{className:"".concat("ExchangeField","-top-row")},r.a.createElement("div",{className:"".concat("ExchangeField","-currency-symbol")},t),r.a.createElement("div",{className:"".concat("ExchangeField","-value")},r.a.createElement("input",{className:"".concat("ExchangeField","-input ").concat("ExchangeField","-input-").concat(s),type:"text",name:s,tabIndex:d?b:-1,value:""!==m?u+m:"",onChange:l||E.a.noop}))),r.a.createElement("div",{className:"".concat("ExchangeField","-bottom-row")},r.a.createElement("div",{className:"".concat("ExchangeField","-currency-balance")},i({value:E.a.round(c,2),currencySymbol:a})),r.a.createElement("div",{className:"".concat("ExchangeField","-currency-rate")},r.a.createElement(C,{fromCode:t,toCode:n}))))}}]),a}(n.Component),v.displayName="ExchangeField",N);var A,D,O=R.ExchangeField,x=t(19),S=t.n(x),L=(t(55),["EUR","GBP","USD"]),T=function(){return function(e){return fetch("https://data.fixer.io/api/latest?access_key=f81c7ff6a7244887a367839c956f290b",{method:"get"}).then(function(e){return e.json()}).then(function(a){e({type:"DATA_CURRENCY_UPDATE_RATES",payload:a.rates})}).catch(function(){e({type:"APP_OFFLINE_SET",payload:!0})})}},F={};F.Exchange=(D=A=function(e){function a(){var e,t;Object(d.a)(this,a);for(var o=arguments.length,c=new Array(o),n=0;n<o;n++)c[n]=arguments[n];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(c)))).handleFieldChange=function(e,a){var o=t.props,c=o.from,n=o.to,r=o.fromActiveIndex,l=o.toActiveIndex,s=o.exchangeFieldUpdate,d=c[r],m=n[l],i=E.a.replace(a.target.value,/[^0-9.]/g,"");i=E.a.replace(i,/\.(\d*)\./g,".$1"),i=E.a.replace(i,/^0\d/g,"0");var u=E.a.split(i,".");"."===i&&(i=""),E.a.get(u,"[1].length")>4&&(i=E.a.join([u[0],u[1].substr(0,4)],".")),Math.abs(E.a.toNumber(i))>1e8||s({fromCode:E.a.get(d,"currencyCode"),toCode:E.a.get(m,"currencyCode"),source:e,value:""!==i?E.a.toString(i):""})},t.handleActiveChange=function(e,a){t.props.exchangeActiveUpdate({source:e,currencyCode:E.a.get(t.props[e],[a,"currencyCode"])})},t.handleSubmit=function(e){e.preventDefault();var a=t.props,o=a.from,c=a.to,n=a.fromActiveIndex,r=a.toActiveIndex,l=a.exchangeTransactionMake,s=o[n],d=c[r],m=E.a.get(s,"value");l({fromCode:E.a.get(s,"currencyCode"),toCode:E.a.get(d,"currencyCode"),value:""!==m?E.a.replace(m,/[^0-9.]/g,""):""})},t}return Object(b.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.from,o=a.to,c=a.balanceTemplate,n=a.toActiveIndex,l=a.fromActiveIndex,s=a.submitButtonLabel,d=a.ratesLoaded,m=a.loadingLabel,i=a.ratesUnavailableLabel,u=a.offline,b=0===d||u,g=t[l],h=o[n],f=""===g.value||""===h.value||E.a.toNumber(g.value)>g.balance||E.a.get(g,"currencyCode")===E.a.get(h,"currencyCode");return r.a.createElement("form",{onSubmit:this.handleSubmit,className:"".concat("Exchange"," ").concat(b?"is-unavailable":"")},r.a.createElement("div",{className:"".concat("Exchange","-header")},r.a.createElement(C,{round:4,fromCode:E.a.get(g,"currencyCode"),toCode:E.a.get(h,"currencyCode")})),r.a.createElement("div",{className:"".concat("Exchange","-fields")},r.a.createElement(S.a,{className:"".concat("Exchange","-slider"),arrows:!1,dots:!0,infinite:!1,initialSlide:l,afterChange:this.handleActiveChange.bind(this,"from")},E.a.map(t,function(a,t){return r.a.createElement(O,Object(y.a)({},a,{key:t,type:"from",isActive:l===t,handleChange:e.handleFieldChange.bind(e,"from"),balanceTemplate:c}))})),r.a.createElement("div",{className:"".concat("Exchange","-separator")},r.a.createElement("div",{className:"".concat("Exchange","-separator-i")})),r.a.createElement(S.a,{className:"".concat("Exchange","-slider"),arrows:!1,dots:!0,infinite:!1,initialSlide:n,afterChange:this.handleActiveChange.bind(this,"to")},E.a.map(o,function(a,t){return r.a.createElement(O,Object(y.a)({},a,{key:t,type:"to",isActive:n===t,handleChange:e.handleFieldChange.bind(e,"to"),balanceTemplate:c,rateCode:E.a.get(g,"currencyCode")}))})),r.a.createElement("div",{className:"".concat("Exchange","-buttons")},r.a.createElement("button",{disabled:f,tabIndex:3,className:"".concat("Exchange","-button ").concat(f?"is-disabled":""),type:"submit"},s))),r.a.createElement("div",{className:"".concat("Exchange","-rates-note")},r.a.createElement("div",{className:"".concat("Exchange","-rates-note-i")},u?i:m)))}}]),a}(n.Component),A.displayName="Exchange",D);F.Exchange;var U,P,M=Object(h.b)(function(e){var a=E.a.get(e,"app.offline"),t=E.a.get(e,"exchange.from"),o=E.a.get(e,"exchange.to"),c=E.a.get(e,"currency.ratesLoaded"),n=E.a.get(t,"active"),r=E.a.get(o,"active"),l=function(a,t){return{currencySymbol:E.a.get(e,["currency","items",t,"symbol"]),currencyCode:E.a.get(e,["currency","items",t,"code"]),balance:E.a.get(e,["app","balance",t,"value"]),value:a}},s=E.a.chain(t).get("items").map(l).valueOf(),d=E.a.chain(o).get("items").map(l).valueOf();return{from:s,fromActiveIndex:E.a.findIndex(s,{currencyCode:n}),to:d,toActiveIndex:E.a.findIndex(d,{currencyCode:r}),balanceTemplate:E.a.get(e,"layout.ExchangeField.balanceTemplate"),submitButtonLabel:E.a.get(e,"layout.Exchange.submitButtonLabel"),ratesLoaded:c,loadingLabel:E.a.get(e,"layout.Exchange.loadingLabel"),ratesUnavailableLabel:E.a.get(e,"layout.Exchange.ratesUnavailableLabel"),offline:a}},function(e){return{dataCurrencyUpdateRates:function(){return e(T())},exchangeFieldUpdate:function(a){var t,o=a.fromCode,c=a.toCode,n=a.value,r=a.source;return e((t={fromCode:o,toCode:c,value:n,source:r},function(e,a){return e({type:"EXCHANGE_FIELD_UPDATE",payload:E.a.assign({},t,{currency:E.a.get(a(),"currency")})})}))},exchangeActiveUpdate:function(a){var t=a.currencyCode,o=a.source;return e({type:"EXCHANGE_ACTIVE_UPDATE",payload:{currencyCode:t,source:o}})},exchangeTransactionMake:function(a){var t,o=a.fromCode,c=a.toCode,n=a.value;return e((t={fromCode:o,toCode:c,value:n},function(e,a){return e({type:"EXCHANGE_TRANSACTION_MAKE",payload:E.a.assign({},t,{rate:f(t.fromCode,t.toCode,E.a.get(a(),"currency"))})})}))}}})(F.Exchange),B={};B.DataManager=(P=U=function(e){function a(){return Object(d.a)(this,a),Object(i.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(b.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.dataCurrencyUpdateRates;e(),this.intervalId=setInterval(function(){e()},1e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalId)}},{key:"render",value:function(){return null}}]),a}(n.Component),U.displayName="DataManager",P);B.DataManager;var K,j,I=Object(h.b)(null,function(e){return{dataCurrencyUpdateRates:function(){return e(T())}}})(B.DataManager),G=(t(59),{});G.App=(j=K=function(e){function a(){return Object(d.a)(this,a),Object(i.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(b.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(M,null),r.a.createElement(I,null))}}]),a}(n.Component),K.displayName="App",j);var H=G.App,_=t(8),Y=t(24),Z=t(25),$=t(7),k={balance:{EUR:{currency:"EUR",value:100},GBP:{currency:"GBP",value:50},USD:{currency:"USD",value:0}},offline:!1},V={from:{items:E.a.reduce(L,function(e,a){return E.a.assign({},e,Object($.a)({},a,""))},{}),active:L[0]},to:{items:E.a.reduce(L,function(e,a){return E.a.assign({},e,Object($.a)({},a,""))},{}),active:L[1]}},w={Exchange:{cancelButtonLabel:"cancel",submitButtonLabel:"exchange",loadingLabel:"Loading Rates...",ratesUnavailableLabel:"Rates Unavailable"},ExchangeField:{balanceTemplate:"You have <%= currencySymbol %><%= value %>"}},X={base:"EUR",ratesLoaded:0,items:{USD:{symbol:"$",code:"USD"},CAD:{symbol:"$",code:"CAD"},EUR:{symbol:"\u20ac",code:"EUR"},AED:{symbol:"\u062f.\u0625.\u200f",code:"AED"},AFN:{symbol:"\u060b",code:"AFN"},ALL:{symbol:"Lek",code:"ALL"},AMD:{symbol:"\u0564\u0580.",code:"AMD"},ARS:{symbol:"$",code:"ARS"},AUD:{symbol:"$",code:"AUD"},AZN:{symbol:"\u043c\u0430\u043d.",code:"AZN"},BAM:{symbol:"KM",code:"BAM"},BDT:{symbol:"\u09f3",code:"BDT"},BGN:{symbol:"\u043b\u0432.",code:"BGN"},BHD:{symbol:"\u062f.\u0628.\u200f",code:"BHD"},BIF:{symbol:"FBu",code:"BIF"},BND:{symbol:"$",code:"BND"},BOB:{symbol:"Bs",code:"BOB"},BRL:{symbol:"R$",code:"BRL"},BWP:{symbol:"P",code:"BWP"},BYR:{symbol:"BYR",code:"BYR"},BZD:{symbol:"$",code:"BZD"},CDF:{symbol:"FrCD",code:"CDF"},CHF:{symbol:"CHF",code:"CHF"},CLP:{symbol:"$",code:"CLP"},CNY:{symbol:"CN\xa5",code:"CNY"},COP:{symbol:"$",code:"COP"},CRC:{symbol:"\u20a1",code:"CRC"},CVE:{symbol:"CV$",code:"CVE"},CZK:{symbol:"K\u010d",code:"CZK"},DJF:{symbol:"Fdj",code:"DJF"},DKK:{symbol:"kr",code:"DKK"},DOP:{symbol:"RD$",code:"DOP"},DZD:{symbol:"\u062f.\u062c.\u200f",code:"DZD"},EEK:{symbol:"kr",code:"EEK"},EGP:{symbol:"\u062c.\u0645.\u200f",code:"EGP"},ERN:{symbol:"Nfk",code:"ERN"},ETB:{symbol:"Br",code:"ETB"},GBP:{symbol:"\xa3",code:"GBP"},GEL:{symbol:"GEL",code:"GEL"},GHS:{symbol:"GH\u20b5",code:"GHS"},GNF:{symbol:"FG",code:"GNF"},GTQ:{symbol:"Q",code:"GTQ"},HKD:{symbol:"$",code:"HKD"},HNL:{symbol:"L",code:"HNL"},HRK:{symbol:"kn",code:"HRK"},HUF:{symbol:"Ft",code:"HUF"},IDR:{symbol:"Rp",code:"IDR"},ILS:{symbol:"\u20aa",code:"ILS"},INR:{symbol:"\u099f\u0995\u09be",code:"INR"},IQD:{symbol:"\u062f.\u0639.\u200f",code:"IQD"},IRR:{symbol:"\ufdfc",code:"IRR"},ISK:{symbol:"kr",code:"ISK"},JMD:{symbol:"$",code:"JMD"},JOD:{symbol:"\u062f.\u0623.\u200f",code:"JOD"},JPY:{symbol:"\uffe5",code:"JPY"},KES:{symbol:"Ksh",code:"KES"},KHR:{symbol:"\u17db",code:"KHR"},KMF:{symbol:"FC",code:"KMF"},KRW:{symbol:"\u20a9",code:"KRW"},KWD:{symbol:"\u062f.\u0643.\u200f",code:"KWD"},KZT:{symbol:"\u0442\u04a3\u0433.",code:"KZT"},LBP:{symbol:"\u0644.\u0644.\u200f",code:"LBP"},LKR:{symbol:"SL Re",code:"LKR"},LTL:{symbol:"Lt",code:"LTL"},LVL:{symbol:"Ls",code:"LVL"},LYD:{symbol:"\u062f.\u0644.\u200f",code:"LYD"},MAD:{symbol:"\u062f.\u0645.\u200f",code:"MAD"},MDL:{symbol:"MDL",code:"MDL"},MGA:{symbol:"MGA",code:"MGA"},MKD:{symbol:"MKD",code:"MKD"},MMK:{symbol:"K",code:"MMK"},MOP:{symbol:"MOP$",code:"MOP"},MUR:{symbol:"MURs",code:"MUR"},MXN:{symbol:"$",code:"MXN"},MYR:{symbol:"RM",code:"MYR"},MZN:{symbol:"MTn",code:"MZN"},NAD:{symbol:"N$",code:"NAD"},NGN:{symbol:"\u20a6",code:"NGN"},NIO:{symbol:"C$",code:"NIO"},NOK:{symbol:"kr",code:"NOK"},NPR:{symbol:"\u0928\u0947\u0930\u0942",code:"NPR"},NZD:{symbol:"$",code:"NZD"},OMR:{symbol:"\u0631.\u0639.\u200f",code:"OMR"},PAB:{symbol:"B/.",code:"PAB"},PEN:{symbol:"S/.",code:"PEN"},PHP:{symbol:"\u20b1",code:"PHP"},PKR:{symbol:"\u20a8",code:"PKR"},PLN:{symbol:"z\u0142",code:"PLN"},PYG:{symbol:"\u20b2",code:"PYG"},QAR:{symbol:"\u0631.\u0642.\u200f",code:"QAR"},RON:{symbol:"RON",code:"RON"},RSD:{symbol:"\u0434\u0438\u043d.",code:"RSD"},RUB:{symbol:"\u0440\u0443\u0431.",code:"RUB"},RWF:{symbol:"FR",code:"RWF"},SAR:{symbol:"\u0631.\u0633.\u200f",code:"SAR"},SDG:{symbol:"SDG",code:"SDG"},SEK:{symbol:"kr",code:"SEK"},SGD:{symbol:"$",code:"SGD"},SOS:{symbol:"Ssh",code:"SOS"},SYP:{symbol:"\u0644.\u0633.\u200f",code:"SYP"},THB:{symbol:"\u0e3f",code:"THB"},TND:{symbol:"\u062f.\u062a.\u200f",code:"TND"},TOP:{symbol:"T$",code:"TOP"},TRY:{symbol:"TL",code:"TRY"},TTD:{symbol:"$",code:"TTD"},TWD:{symbol:"NT$",code:"TWD"},TZS:{symbol:"TSh",code:"TZS"},UAH:{symbol:"\u20b4",code:"UAH"},UGX:{symbol:"USh",code:"UGX"},UYU:{symbol:"$",code:"UYU"},UZS:{symbol:"UZS",code:"UZS"},VEF:{symbol:"Bs.F.",code:"VEF"},VND:{symbol:"\u20ab",code:"VND"},XAF:{symbol:"FCFA",code:"XAF"},XOF:{symbol:"CFA",code:"XOF"},YER:{symbol:"\u0631.\u064a.\u200f",code:"YER"},ZAR:{symbol:"R",code:"ZAR"},ZMK:{symbol:"ZK",code:"ZMK"}}},W={app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"EXCHANGE_TRANSACTION_MAKE":var t,o=E.a.get(a,"payload",{}),c=o.fromCode,n=o.toCode,r=o.value,l=o.rate,s=E.a.toNumber(r);return E.a.get(e,["balance",c,"value"],0)<E.a.toNumber(r)||s<0||E.a.isNaN(s)||c===n?e:E.a.assign({},e,{balance:E.a.assign({},e.balance,(t={},Object($.a)(t,c,{currency:c,value:E.a.get(e,["balance",c,"value"])-E.a.toNumber(r)}),Object($.a)(t,n,{currency:c,value:E.a.get(e,["balance",n,"value"])+E.a.toNumber(r)*l}),t))});case"DATA_CURRENCY_UPDATE_RATES":return E.a.assign({},e,{offline:!1});case"APP_OFFLINE_SET":return E.a.assign({},e,{offline:E.a.get(a,"payload",!1)});default:return e}},exchange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"EXCHANGE_FIELD_UPDATE":var t,o=E.a.get(a,"payload",{}),c=o.fromCode,n=o.toCode,r=o.value,l=o.source,s=o.currency,d="from"===l,m=d?"from":"to",i=d?"to":"from",u=d?c:n,b=e[i],y=e[m],g=E.a.mapValues(e[i].items,function(e,a){var t=f(u,a,s),o=E.a.round(r*t,4);return 0===o||E.a.isNaN(o)?"":E.a.toString(o)}),h=E.a.mapValues(e[m].items,function(e,a){return a!==u||E.a.isNaN(E.a.toNumber(r))?"":r});return E.a.assign({},e,(t={},Object($.a)(t,m,E.a.assign({},y,{items:h})),Object($.a)(t,i,E.a.assign({},b,{items:g})),t));case"EXCHANGE_ACTIVE_UPDATE":var p=E.a.get(a,"payload",{}),v=p.currencyCode,N=p.source,C=E.a.mapValues(e[N].items,function(){return""});return"from"===N?E.a.assign({},e,{from:E.a.assign({},e.from,{active:v,items:C}),to:E.a.assign({},e.to,{items:C})}):E.a.assign({},e,{to:E.a.assign({},e.to,{active:v})});case"EXCHANGE_TRANSACTION_MAKE":var R=E.a.mapValues(e.from.items,function(){return""});return E.a.assign({},e,{from:E.a.assign({},e.from,{items:R}),to:E.a.assign({},e.to,{items:R})});default:return e}},layout:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;return(arguments.length>1?arguments[1]:void 0).type,e},currency:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"DATA_CURRENCY_UPDATE_RATES":return E.a.assign({},e,{ratesLoaded:Date.now(),items:E.a.mapValues(e.items,function(e,t){return E.a.assign({},e,{rate:E.a.get(a,["payload",t])})})});default:return e}}},J=Object(_.combineReducers)(W),Q=Object(Y.composeWithDevTools)(Object(_.applyMiddleware)(Z.a)),z=Object(_.createStore)(J,Q),q=document.getElementById("root");null!==q&&s.a.render(r.a.createElement(h.a,{store:z},r.a.createElement(H,null)),q)}},[[26,2,1]]]);
//# sourceMappingURL=main.5a25d64d.chunk.js.map